# CI-RAG Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================
# CRITICAL: API Keys (Keep these secret!)
# ============================================

# OpenAI API Key (required for GPT-5-mini reasoning)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Tavily API Key (optional, for web search)
# Get from: https://tavily.com
TAVILY_API_KEY=tvly-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx


# ============================================
# FastAPI Service Authentication
# ============================================

# API Secret Key (generate with: openssl rand -hex 32)
API_SECRET_KEY=your-secret-key-here

# JWT Token Expiration (in minutes)
JWT_EXPIRATION_MINUTES=60

# Allowed API Keys (comma-separated, for simple API key auth)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
ALLOWED_API_KEYS=key1,key2,key3


# ============================================
# Database & Storage
# ============================================

# Qdrant Vector Database
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=ci_rag

# SQLite Memory Database
MEMORY_DB_PATH=./data/memory.db


# ============================================
# PubMed API Configuration
# ============================================

# Email for NCBI Entrez API (required by NCBI terms of service)
PUBMED_EMAIL=your-email@example.com

# Optional: NCBI API Key for higher rate limits
# Get from: https://www.ncbi.nlm.nih.gov/account/settings/
NCBI_API_KEY=


# ============================================
# Retrieval & Generation Settings
# ============================================

# Embedding Model
EMBEDDING_MODEL=text-embedding-3-large

# Chunk Settings
CHUNK_SIZE=800
CHUNK_OVERLAP=100

# Retrieval Settings
TOP_K_RESULTS=10
BM25_WEIGHT=0.5
DENSE_WEIGHT=0.5

# Generation Settings
LLM_MODEL=gpt-5-mini
MAX_COMPLETION_TOKENS=5000
REASONING_EFFORT=medium


# ============================================
# RSS Feed Scheduler
# ============================================

# Auto-fetch interval (in minutes)
FEED_FETCH_INTERVAL=60

# Maximum items per RSS feed
MAX_RSS_ITEMS_PER_FEED=50


# ============================================
# Optional: Production Settings
# ============================================

# Environment (development/production)
ENVIRONMENT=development

# Logging Level (DEBUG/INFO/WARNING/ERROR)
LOG_LEVEL=INFO

# CORS Allowed Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-sab-app.com
